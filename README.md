# t-bank-junior-java

Проект T-Bank Junior Java — это Java-приложение для перевода слов на разные языки, разработанное с использованием Spring Boot и Liquibase для управления схемой базы данных. Это приложение является частью тестового задания для обучения в рамках программы T-Bank Junior Java. В данном руководстве описано, как запустить проект локально и с использованием Docker (рекомендуемый способ).

## Содержание

- [Требования](#требования)
- [Запуск проекта локально](#запуск-проекта-локально)
- [Запуск проекта с использованием Docker (рекомендуемый способ)](#запуск-проекта-с-использованием-docker)
- [Проверка работы приложения](#проверка-работы-приложения)
- [О приложении](#о-приложении)

## Требования

- Java 17
- Maven
- Docker (для запуска с использованием Docker)

## Запуск проекта локально

1. **Клонируйте репозиторий**

    ```sh
    git clone https://github.com/prismgentem/t-bank-junior-java.git
    cd t-bank-junior-java
    ```

2. **Настройте файл конфигурации**

   Перед запуском приложения локально убедитесь, что в файле `src/main/resources/application.yml` указан ваш API ключ, это требуется для работы приложения с https://translate.api.cloud.yandex.net/translate/v2/translate.

   Пример конфигурации:
    ```yaml
    api:
      key: YOUR_API_KEY
    ```

3. **Соберите и запустите приложение**

   Соберите проект и запустите его:

    ```sh
    mvn clean package
    java -jar target/t-bank-junior-java-0.0.1-SNAPSHOT.jar
    ```

4. **Откройте консоль H2**

   Откройте веб-браузер и перейдите по адресу [http://localhost:8080/h2-console](http://localhost:8080/h2-console). Введите следующие параметры для подключения к базе данных:

   - **JDBC URL**: `jdbc:h2:mem:testdb`
   - **User Name**: `sa`
   - **Password**: `password`

5. **Проверка работы приложения**

   [Проверка работы приложения](#проверка-работы-приложения)

## Запуск проекта с использованием Docker

1. **Настройте файл окружения**

   Создайте файл `.env` в корневой директории проекта, если его еще нет, и добавьте ваш API ключ. Например:

    ```
    API_KEY=YOUR_API_KEY
    ```

2. **Соберите и запустите контейнеры**

   Убедитесь, что у вас установлен Docker и запущен. Используйте Docker Compose для сборки образа и запуска приложения и базы данных:

    ```sh
    docker-compose up --build
    ```

   В этом случае будет создан и запущен контейнер для приложения и контейнер для PostgreSQL.

3. **Подключение к базе данных**

   Если вы используете Docker, для подключения к базе данных PostgreSQL используйте следующие параметры:

   - **JDBC URL**: `jdbc:postgresql://localhost:5433/tbankjuniorjava`
   - **User Name**: `postgres`
   - **Password**: `password`

4. **Проверка работы приложения**

   [Проверка работы приложения](#проверка-работы-приложения)

## Проверка работы приложения

После запуска приложения выполните следующие шаги для проверки его работы:

1. **Откройте Postman**

2. **Создайте новый запрос**

   - **URL**: `http://localhost:8080/api/v1/translate`
   - **Метод**: `POST`

3. **Настройте запрос**

   Вкладка **Headers**:
   - **Content-Type**: `application/json`

   Вкладка **Body**:
   Выберите **raw** и введите следующее тело запроса:

    ```json
    {
      "text": "spring",
      "sourceLang": "en",
      "targetLang": "ru"
    }
    ```

4. **Отправьте запрос**

   Нажмите кнопку **Send** и проверьте, что приложение возвращает ожидаемый ответ:

    ```json
    {
      "translatedText": "весна"
    }
    ```

## О приложении

- **Spring Boot**: Фреймворк для создания автономных приложений на Java.
- **Liquibase**: Инструмент для управления схемой базы данных.
- **H2**: Встраиваемая база данных (используется при локальном запуске).
- **PostgreSQL**: Реляционная база данных (используется при запуске с Docker).
